<!DOCTYPE html>
<!--
Software by Erich Bremer
ALL RIGHTS RESERVED
-->
<html>
    <head>
        <title>Nanoborb</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <style>
        body {
            background-color: #fdfdfd
        }
    </style>
    <body>
    <div id='img'><img src="./Nanoborb-256x256.png"/></div>
    <strong>What is Nanoborb?</strong><br>
    <p>Nanoborb is a desktop version of a subset of functions providing by the <a href="https://sbu-bmi.github.io/quip_distro/">QuIP Platform</a>.  With the current version of Nanoborb, you can perform
    the following functions:</p>
    <list>
    <li>Load and view Whole Slide Images (WSI)</li>
    <li>Mark-up and annotate these images</li>
    <li>Save and reload these markups to a standard json file</li>
    <li>View images side-by-side with image overlay markups.</li>
    <li>Overlay computed heatmaps on images.</li>
    <li>Get approximate counts of nuclei</li>
    </list>
    
    <p>WSI images come in (unfortunately) a variety of formats such as Aperio SVS, BigTiff, and Olympus/CellSens VSI.  To get you started, use the following link
    <a href="http://openslide.cs.cmu.edu/download/openslide-testdata/Aperio/">http://openslide.cs.cmu.edu/download/openslide-testdata/Aperio/</a>
    to download some sample images if you don't have some of your own.  For further instructions, please watch and enjoy the following tutorial <a href="https://youtu.be/Q_DEQbX3cO4" target="_blank">video</a>.
    You can return to this page by selecting on the menu bar "About-->Main Page".</p>
    
    <strong>Frequently Asked Questions</strong>
    <p>Where can I download new versions of Nanoborb and for other platforms? <a href="https://github.com/SBU-BMI/Nanoborb/releases" target="_blank">https://github.com/SBU-BMI/Nanoborb/releases</a></p>
</body>
<style>
#img.egg {
  width: 540px;
  height: 480px;
}
#img.egg img{
  width:100%;
  height:100%;
}
#img.borb {
  position: absolute; 
  -webkit-animation: borbDiv 8s linear infinite alternate; /* Safari 4.0 - 8.0 */
  animation: borbDiv 8s linear infinite alternate;
}
/* Safari 4.0 - 8.0 */
@-webkit-keyframes borbDiv {
  0%   {
    transform: rotate(0deg);
    width: 540px; height:480px;
    background-color:red; 
    left:0px; top:0px;
  }
  12.5% {
    transform: rotate(180deg);
    width: 270px; height:240px; 
    top:0px; left:calc(50% - 135px);
    background-color:yellow;
  }
  25%  {
    transform: rotate(360deg);
    width: 540px; height:480px;
    background-color:green;
    left:calc(100% - 540px); top:0px;
  }
  37.5% {
    width: 270px; height:240px;
    left:calc(100% - 270px);
    top:calc(50% - 120px);
    background-color:blue;
  }
  50%  {
    transform: rotate(0deg);
    width: 540px; height:480px;
    background-color:green;
    left:calc(100% - 540px); top:calc(100% - 480px);
  }
  62.5% {
    transform: rotate(180deg);
    width: 270px; height:240px;
    left:calc(50% - 135px); top:calc(100% - 240px);
  }
  75%  {
    transform: rotate(360deg);
    width: 540px; height:480px;
    background-color:green;
    left:0px; top:calc(100% - 480px);
  }
  87.5% {
    width: 270px; height:240px;
    left:0px; top:calc(50% - 120px);
    background-color:yellow;
  }
  100% {
    transform: rotate(0deg);
    width: 540px; height:480px;
    background-color:red;
    left:0px; top:0px;
  }
}
/* Standard syntax */
@keyframes borbDiv {
  0%   {
    transform: rotate(0deg);
    width: 540px; height:480px;
    background-color:red; 
    left:0px; top:0px;
  }
  12.5% {
    transform: rotate(180deg);
    width: 270px; height:240px; 
    top:0px; left:calc(50% - 135px);
    background-color:yellow;
  }
  25%  {
    transform: rotate(360deg);
    width: 540px; height:480px;
    background-color:green;
    left:calc(100% - 540px); top:0px;
  }
  37.5% {
    width: 270px; height:240px;
    left:calc(100% - 270px);
    top:calc(50% - 120px);
    background-color:blue;
  }
  50%  {
    transform: rotate(0deg);
    width: 540px; height:480px;
    background-color:green;
    left:calc(100% - 540px); top:calc(100% - 480px);
  }
  62.5% {
    transform: rotate(180deg);
    width: 270px; height:240px;
    left:calc(50% - 135px); top:calc(100% - 240px);
  }
  75%  {
    transform: rotate(360deg);
    width: 540px; height:480px;
    background-color:green;
    left:0px; top:calc(100% - 480px);
  }
  87.5% {
    width: 270px; height:240px;
    left:0px; top:calc(50% - 120px);
    background-color:yellow;
  }
  100% {
    transform: rotate(0deg);
    width: 540px; height:480px;
    background-color:red;
    left:0px; top:0px;
  }
}
</style>
<script>
let index = 0;
let flop = false;
const secretCode = [38,38,40,40,37,39,37,39,66,65,13]; // try konami code with `enter` to finish.
const imgPath = ['./Nanoborb-256x256.png','./nanoborb.gif']
window.addEventListener('keyup', (e) => {
  let code = e.keyCode;
  if(code == secretCode[index]) index++;
  else index = 0;
  if(index == secretCode.length) {
    const div = document.getElementById('img')
    const img = div.querySelector('img');
    index = 0;
    flop = !flop;
    img.src = imgPath[+flop];
    if(flop){
      div.classList.add('egg');
      div.classList.add('borb');
      img.classList.add('borb');
      img.style.opacity = 0.5;
    }else {
      div.classList.remove('egg');
      div.classList.remove('borb');
      img.classList.remove('borb');
      img.style.opacity = 1;
    }
  };
});
</script>
</html>
